{"version":3,"file":"node_modules_azure_msal-browser_dist_controllers_NestedAppAuthController_mjs.js","mappings":"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","sources":["./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs","./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs","./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs","./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs"],"sourcesContent":["/*! @azure/msal-browser v3.10.0 2024-02-17 */\n'use strict';\nimport { DEFAULT_CRYPTO_IMPLEMENTATION, PerformanceEvents, TimeUtils } from '@azure/msal-common';\nimport { InteractionType } from '../utils/BrowserConstants.mjs';\nimport { CryptoOps } from '../crypto/CryptoOps.mjs';\nimport { NestedAppAuthAdapter } from '../naa/mapping/NestedAppAuthAdapter.mjs';\nimport { NestedAppAuthError } from '../error/NestedAppAuthError.mjs';\nimport { EventHandler } from '../event/EventHandler.mjs';\nimport { EventType } from '../event/EventType.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NestedAppAuthController {\n    constructor(operatingContext) {\n        this.operatingContext = operatingContext;\n        const proxy = this.operatingContext.getBridgeProxy();\n        if (proxy !== undefined) {\n            this.bridgeProxy = proxy;\n        }\n        else {\n            throw new Error(\"unexpected: bridgeProxy is undefined\");\n        }\n        // Set the configuration.\n        this.config = operatingContext.getConfig();\n        // Initialize logger\n        this.logger = this.operatingContext.getLogger();\n        // Initialize performance client\n        this.performanceClient = this.config.telemetry.client;\n        // Initialize the crypto class.\n        this.browserCrypto = operatingContext.isBrowserEnvironment()\n            ? new CryptoOps(this.logger, this.performanceClient)\n            : DEFAULT_CRYPTO_IMPLEMENTATION;\n        this.eventHandler = new EventHandler(this.logger, this.browserCrypto);\n        this.nestedAppAuthAdapter = new NestedAppAuthAdapter(this.config.auth.clientId, this.config.auth.clientCapabilities, this.browserCrypto, this.logger);\n    }\n    getBrowserStorage() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    getEventHandler() {\n        return this.eventHandler;\n    }\n    static async createController(operatingContext) {\n        const controller = new NestedAppAuthController(operatingContext);\n        return Promise.resolve(controller);\n    }\n    initialize() {\n        // do nothing not required by this controller\n        return Promise.resolve();\n    }\n    async acquireTokenInteractive(request) {\n        this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START, InteractionType.Popup, request);\n        const atPopupMeasurement = this.performanceClient.startMeasurement(PerformanceEvents.AcquireTokenPopup, request.correlationId);\n        atPopupMeasurement?.add({ nestedAppAuthRequest: true });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(request);\n            const reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.bridgeProxy.getTokenInteractive(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            this.operatingContext.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS, InteractionType.Popup, result);\n            atPopupMeasurement.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n            });\n            atPopupMeasurement.end({\n                success: true,\n                requestId: result.requestId,\n            });\n            return result;\n        }\n        catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE, InteractionType.Popup, null, e);\n            atPopupMeasurement.end({\n                errorCode: error.errorCode,\n                subErrorCode: error.subError,\n                success: false,\n            });\n            throw error;\n        }\n    }\n    async acquireTokenSilentInternal(request) {\n        this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_START, InteractionType.Silent, request);\n        const ssoSilentMeasurement = this.performanceClient.startMeasurement(PerformanceEvents.SsoSilent, request.correlationId);\n        ssoSilentMeasurement?.increment({\n            visibilityChangeCount: 0,\n        });\n        ssoSilentMeasurement?.add({\n            nestedAppAuthRequest: true,\n        });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(request);\n            const reqTimestamp = TimeUtils.nowSeconds();\n            const response = await this.bridgeProxy.getTokenSilent(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            this.operatingContext.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_SUCCESS, InteractionType.Silent, result);\n            ssoSilentMeasurement?.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n            });\n            ssoSilentMeasurement?.end({\n                success: true,\n                requestId: result.requestId,\n            });\n            return result;\n        }\n        catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(EventType.ACQUIRE_TOKEN_FAILURE, InteractionType.Silent, null, e);\n            ssoSilentMeasurement?.end({\n                errorCode: error.errorCode,\n                subErrorCode: error.subError,\n                success: false,\n            });\n            throw error;\n        }\n    }\n    async acquireTokenPopup(request) {\n        return this.acquireTokenInteractive(request);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenRedirect(request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    async acquireTokenSilent(silentRequest) {\n        return this.acquireTokenSilentInternal(silentRequest);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenByCode(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    acquireTokenNative(request, apiId, // eslint-disable-line @typescript-eslint/no-unused-vars\n    accountId // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    acquireTokenByRefreshToken(commonRequest, // eslint-disable-line @typescript-eslint/no-unused-vars\n    silentRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    /**\n     * Adds event callbacks to array\n     * @param callback\n     */\n    addEventCallback(callback) {\n        return this.eventHandler.addEventCallback(callback);\n    }\n    /**\n     * Removes callback with provided id from callback array\n     * @param callbackId\n     */\n    removeEventCallback(callbackId) {\n        this.eventHandler.removeEventCallback(callbackId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    addPerformanceCallback(callback) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    removePerformanceCallback(callbackId) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    enableAccountStorageEvents() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    disableAccountStorageEvents() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    getAccount(accountFilter) {\n        throw NestedAppAuthError.createUnsupportedError();\n        // TODO: Look at standard implementation\n    }\n    getAccountByHomeId(homeAccountId) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.homeAccountId === homeAccountId) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAccountByLocalId(localId) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.localAccountId === localId) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAccountByUsername(userName) {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            if (currentAccount.username === userName) {\n                return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n            }\n            else {\n                return null;\n            }\n        }\n        else {\n            return null;\n        }\n    }\n    getAllAccounts() {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            return [\n                this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount),\n            ];\n        }\n        else {\n            return [];\n        }\n    }\n    handleRedirectPromise(hash // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    loginPopup(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        if (request !== undefined) {\n            return this.acquireTokenInteractive(request);\n        }\n        else {\n            throw NestedAppAuthError.createUnsupportedError();\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    loginRedirect(request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    logout(logoutRequest) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    logoutRedirect(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    logoutPopup(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    ssoSilent(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        return this.acquireTokenSilentInternal(request);\n    }\n    getTokenCache() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    /**\n     * Returns the logger instance\n     */\n    getLogger() {\n        return this.logger;\n    }\n    /**\n     * Replaces the default logger set in configurations with new Logger with new configurations\n     * @param logger Logger instance\n     */\n    setLogger(logger) {\n        this.logger = logger;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setActiveAccount(account) {\n        /*\n         * StandardController uses this to allow the developer to set the active account\n         * in the nested app auth scenario the active account is controlled by the app hosting the nested app\n         */\n        this.logger.warning(\"nestedAppAuth does not support setActiveAccount\");\n        return;\n    }\n    getActiveAccount() {\n        const currentAccount = this.operatingContext.getActiveAccount();\n        if (currentAccount !== undefined) {\n            return this.nestedAppAuthAdapter.fromNaaAccountInfo(currentAccount);\n        }\n        else {\n            return null;\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    initializeWrapperLibrary(sku, version) {\n        /*\n         * Standard controller uses this to set the sku and version of the wrapper library in the storage\n         * we do nothing here\n         */\n        return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setNavigationClient(navigationClient) {\n        this.logger.warning(\"setNavigationClient is not supported in nested app auth\");\n    }\n    getConfiguration() {\n        return this.config;\n    }\n    isBrowserEnv() {\n        return this.operatingContext.isBrowserEnvironment();\n    }\n    getBrowserCrypto() {\n        return this.browserCrypto;\n    }\n    getPerformanceClient() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    getRedirectResponse() {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    preflightBrowserEnvironmentCheck(interactionType, // eslint-disable-line @typescript-eslint/no-unused-vars\n    setInteractionInProgress // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async clearCache(logoutRequest) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async hydrateCache(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    result, \n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        throw NestedAppAuthError.createUnsupportedError();\n    }\n}\n\nexport { NestedAppAuthController };\n","/*! @azure/msal-browser v3.10.0 2024-02-17 */\n'use strict';\nimport { AuthError } from '@azure/msal-common';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\n/**\n * NestedAppAuthErrorMessage class containing string constants used by error codes and messages.\n */\nconst NestedAppAuthErrorMessage = {\n    unsupportedMethod: {\n        code: \"unsupported_method\",\n        desc: \"The PKCE code challenge and verifier could not be generated.\",\n    },\n};\nclass NestedAppAuthError extends AuthError {\n    constructor(errorCode, errorMessage) {\n        super(errorCode, errorMessage);\n        Object.setPrototypeOf(this, NestedAppAuthError.prototype);\n        this.name = \"NestedAppAuthError\";\n    }\n    static createUnsupportedError() {\n        return new NestedAppAuthError(NestedAppAuthErrorMessage.unsupportedMethod.code, NestedAppAuthErrorMessage.unsupportedMethod.desc);\n    }\n}\n\nexport { NestedAppAuthError, NestedAppAuthErrorMessage };\n","/*! @azure/msal-browser v3.10.0 2024-02-17 */\n'use strict';\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nfunction isBridgeError(error) {\n    return error.status !== undefined;\n}\n\nexport { isBridgeError };\n","/*! @azure/msal-browser v3.10.0 2024-02-17 */\n'use strict';\nimport { RequestParameterBuilder, StringUtils, AuthenticationScheme, createClientAuthError, ClientAuthErrorCodes, AuthToken, AuthError, InteractionRequiredAuthError, ServerError, ClientAuthError } from '@azure/msal-common';\nimport { isBridgeError } from '../BridgeError.mjs';\nimport { BridgeStatusCode } from '../BridgeStatusCode.mjs';\n\n/*\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License.\n */\nclass NestedAppAuthAdapter {\n    constructor(clientId, clientCapabilities, crypto, logger) {\n        this.clientId = clientId;\n        this.clientCapabilities = clientCapabilities;\n        this.crypto = crypto;\n        this.logger = logger;\n    }\n    toNaaTokenRequest(request) {\n        let extraParams;\n        if (request.extraQueryParameters === undefined) {\n            extraParams = new Map();\n        }\n        else {\n            extraParams = new Map(Object.entries(request.extraQueryParameters));\n        }\n        const requestBuilder = new RequestParameterBuilder();\n        const claims = requestBuilder.addClientCapabilitiesToClaims(request.claims, this.clientCapabilities);\n        const tokenRequest = {\n            platformBrokerId: request.account?.homeAccountId,\n            clientId: this.clientId,\n            authority: request.authority,\n            scope: request.scopes.join(\" \"),\n            correlationId: request.correlationId !== undefined\n                ? request.correlationId\n                : this.crypto.createNewGuid(),\n            claims: !StringUtils.isEmptyObj(claims) ? claims : undefined,\n            state: request.state,\n            authenticationScheme: request.authenticationScheme || AuthenticationScheme.BEARER,\n            extraParameters: extraParams,\n        };\n        return tokenRequest;\n    }\n    fromNaaTokenResponse(request, response, reqTimestamp) {\n        if (!response.token.id_token || !response.token.access_token) {\n            throw createClientAuthError(ClientAuthErrorCodes.nullOrEmptyToken);\n        }\n        const expiresOn = new Date((reqTimestamp + (response.token.expires_in || 0)) * 1000);\n        const idTokenClaims = AuthToken.extractTokenClaims(response.token.id_token, this.crypto.base64Decode);\n        const account = this.fromNaaAccountInfo(response.account, idTokenClaims);\n        const scopes = response.token.scope || request.scope;\n        const authenticationResult = {\n            authority: response.token.authority || account.environment,\n            uniqueId: account.localAccountId,\n            tenantId: account.tenantId,\n            scopes: scopes.split(\" \"),\n            account,\n            idToken: response.token.id_token,\n            idTokenClaims,\n            accessToken: response.token.access_token,\n            fromCache: true,\n            expiresOn: expiresOn,\n            tokenType: request.authenticationScheme || AuthenticationScheme.BEARER,\n            correlationId: request.correlationId,\n            extExpiresOn: expiresOn,\n            state: request.state,\n        };\n        return authenticationResult;\n    }\n    /*\n     *  export type AccountInfo = {\n     *     homeAccountId: string;\n     *     environment: string;\n     *     tenantId: string;\n     *     username: string;\n     *     localAccountId: string;\n     *     name?: string;\n     *     idToken?: string;\n     *     idTokenClaims?: TokenClaims & {\n     *         [key: string]:\n     *             | string\n     *             | number\n     *             | string[]\n     *             | object\n     *             | undefined\n     *             | unknown;\n     *     };\n     *     nativeAccountId?: string;\n     *     authorityType?: string;\n     * };\n     */\n    fromNaaAccountInfo(fromAccount, idTokenClaims) {\n        const effectiveIdTokenClaims = idTokenClaims || fromAccount.idTokenClaims;\n        const localAccountId = fromAccount.localAccountId ||\n            effectiveIdTokenClaims?.oid ||\n            effectiveIdTokenClaims?.sub ||\n            \"\";\n        const tenantId = fromAccount.tenantId || effectiveIdTokenClaims?.tid || \"\";\n        const homeAccountId = fromAccount.homeAccountId || `${localAccountId}.${tenantId}`;\n        const username = fromAccount.username ||\n            effectiveIdTokenClaims?.preferred_username ||\n            \"\";\n        const name = fromAccount.name || effectiveIdTokenClaims?.name;\n        const account = {\n            homeAccountId,\n            environment: fromAccount.environment,\n            tenantId,\n            username,\n            localAccountId,\n            name,\n            idToken: fromAccount.idToken,\n            idTokenClaims: effectiveIdTokenClaims,\n        };\n        return account;\n    }\n    /**\n     *\n     * @param error BridgeError\n     * @returns AuthError, ClientAuthError, ClientConfigurationError, ServerError, InteractionRequiredError\n     */\n    fromBridgeError(error) {\n        if (isBridgeError(error)) {\n            switch (error.status) {\n                case BridgeStatusCode.UserCancel:\n                    return new ClientAuthError(ClientAuthErrorCodes.userCanceled);\n                case BridgeStatusCode.NoNetwork:\n                    return new ClientAuthError(ClientAuthErrorCodes.noNetworkConnectivity);\n                case BridgeStatusCode.AccountUnavailable:\n                    return new ClientAuthError(ClientAuthErrorCodes.noAccountFound);\n                case BridgeStatusCode.Disabled:\n                    return new ClientAuthError(ClientAuthErrorCodes.nestedAppAuthBridgeDisabled);\n                case BridgeStatusCode.NestedAppAuthUnavailable:\n                    return new ClientAuthError(error.code ||\n                        ClientAuthErrorCodes.nestedAppAuthBridgeDisabled, error.description);\n                case BridgeStatusCode.TransientError:\n                case BridgeStatusCode.PersistentError:\n                    return new ServerError(error.code, error.description);\n                case BridgeStatusCode.UserInteractionRequired:\n                    return new InteractionRequiredAuthError(error.code, error.description);\n                default:\n                    return new AuthError(error.code, error.description);\n            }\n        }\n        else {\n            return new AuthError(\"unknown_error\", \"An unknown error occurred\");\n        }\n    }\n}\n\nexport { NestedAppAuthAdapter };\n"],"names":["_asyncToGenerator","DEFAULT_CRYPTO_IMPLEMENTATION","PerformanceEvents","TimeUtils","InteractionType","CryptoOps","NestedAppAuthAdapter","NestedAppAuthError","EventHandler","EventType","NestedAppAuthController","constructor","operatingContext","proxy","getBridgeProxy","undefined","bridgeProxy","Error","config","getConfig","logger","getLogger","performanceClient","telemetry","client","browserCrypto","isBrowserEnvironment","eventHandler","nestedAppAuthAdapter","auth","clientId","clientCapabilities","getBrowserStorage","createUnsupportedError","getEventHandler","createController","controller","Promise","resolve","initialize","acquireTokenInteractive","request","_this","emitEvent","ACQUIRE_TOKEN_START","Popup","atPopupMeasurement","startMeasurement","AcquireTokenPopup","correlationId","add","nestedAppAuthRequest","naaRequest","toNaaTokenRequest","reqTimestamp","nowSeconds","response","getTokenInteractive","result","fromNaaTokenResponse","setActiveAccount","account","ACQUIRE_TOKEN_SUCCESS","accessTokenSize","accessToken","length","idTokenSize","idToken","end","success","requestId","e","error","fromBridgeError","ACQUIRE_TOKEN_FAILURE","errorCode","subErrorCode","subError","acquireTokenSilentInternal","_this2","Silent","ssoSilentMeasurement","SsoSilent","increment","visibilityChangeCount","getTokenSilent","acquireTokenPopup","_this3","acquireTokenRedirect","acquireTokenSilent","silentRequest","_this4","acquireTokenByCode","acquireTokenNative","apiId","accountId","acquireTokenByRefreshToken","commonRequest","addEventCallback","callback","removeEventCallback","callbackId","addPerformanceCallback","removePerformanceCallback","enableAccountStorageEvents","disableAccountStorageEvents","getAccount","accountFilter","getAccountByHomeId","homeAccountId","currentAccount","getActiveAccount","fromNaaAccountInfo","getAccountByLocalId","localId","localAccountId","getAccountByUsername","userName","username","getAllAccounts","handleRedirectPromise","hash","loginPopup","loginRedirect","logout","logoutRequest","logoutRedirect","logoutPopup","ssoSilent","getTokenCache","setLogger","warning","initializeWrapperLibrary","sku","version","setNavigationClient","navigationClient","getConfiguration","isBrowserEnv","getBrowserCrypto","getPerformanceClient","getRedirectResponse","preflightBrowserEnvironmentCheck","interactionType","setInteractionInProgress","clearCache","hydrateCache","AuthError","NestedAppAuthErrorMessage","unsupportedMethod","code","desc","errorMessage","Object","setPrototypeOf","prototype","name","isBridgeError","status","RequestParameterBuilder","StringUtils","AuthenticationScheme","createClientAuthError","ClientAuthErrorCodes","AuthToken","InteractionRequiredAuthError","ServerError","ClientAuthError","BridgeStatusCode","crypto","extraParams","extraQueryParameters","Map","entries","requestBuilder","claims","addClientCapabilitiesToClaims","tokenRequest","platformBrokerId","authority","scope","scopes","join","createNewGuid","isEmptyObj","state","authenticationScheme","BEARER","extraParameters","token","id_token","access_token","nullOrEmptyToken","expiresOn","Date","expires_in","idTokenClaims","extractTokenClaims","base64Decode","authenticationResult","environment","uniqueId","tenantId","split","fromCache","tokenType","extExpiresOn","fromAccount","effectiveIdTokenClaims","oid","sub","tid","preferred_username","UserCancel","userCanceled","NoNetwork","noNetworkConnectivity","AccountUnavailable","noAccountFound","Disabled","nestedAppAuthBridgeDisabled","NestedAppAuthUnavailable","description","TransientError","PersistentError","UserInteractionRequired"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3]}